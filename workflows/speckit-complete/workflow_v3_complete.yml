app:
  description: 'GitHub spec-kitã®å…¨æ©Ÿèƒ½ã‚’çµ±åˆå®Ÿè£…ã—ãŸå®Œå…¨ç‰ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼'
  icon: ğŸš€
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: SpecKit Complete
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/bedrock:0.0.57@b7fb0414c4e64004a36c3141cb8d9a249d949013bb21efbce34918e71cce5051
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables:
  - description: 'ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸå‰‡'
    id: 'constitution'
    name: 'constitution'
    value: ''
    value_type: string
  - description: 'ç¾åœ¨ã®ä»•æ§˜æ›¸'
    id: 'specification'
    name: 'specification'
    value: ''
    value_type: string
  - description: 'å®Ÿè£…è¨ˆç”»'
    id: 'plan'
    name: 'plan'
    value: ''
    value_type: string
  - description: 'ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ'
    id: 'tasks'
    name: 'tasks'
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: |
      ğŸš€ **SpecKit Complete ã¸ã‚ˆã†ã“ãï¼**

      GitHub spec-kitã®å…¨æ©Ÿèƒ½ã‚’çµ±åˆå®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š

      ğŸ“‹ **åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ï¼š**
      - `constitution` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸå‰‡ã¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’å®šç¾©
      - `specify` - è©³ç´°ãªè¦ä»¶ä»•æ§˜æ›¸ã‚’ä½œæˆ
      - `clarify` - æ›–æ˜§ãªè¦ä»¶ã‚’æ˜ç¢ºåŒ–
      - `plan` - æŠ€è¡“å®Ÿè£…è¨ˆç”»ã‚’ç­–å®š
      - `tasks` - ã‚¿ã‚¹ã‚¯åˆ†è§£ã¨å„ªå…ˆé †ä½ä»˜ã‘
      - `analyze` - è¦ä»¶ã®åˆ†æã¨æ”¹å–„ææ¡ˆ
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸå‰‡ã‚’å®šç¾©ã—ã¦ãã ã•ã„'
    - 'è¦ä»¶ä»•æ§˜æ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„'
    - 'å®Ÿè£…è¨ˆç”»ã‚’ç«‹ã¦ã¦ãã ã•ã„'
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: question-classifier
      id: '1735810000001-1735810000010'
      source: '1735810000001'
      sourceHandle: source
      target: '1735810000010'
      targetHandle: target
      type: custom
    # Constitution/Specify ãƒ–ãƒ©ãƒ³ãƒ
    - data:
        sourceType: question-classifier
        targetType: llm
      id: '1735810000010-1735810000101-1735810000021'
      source: '1735810000010'
      sourceHandle: '1735810000101'
      target: '1735810000021'
      targetHandle: target
      type: custom
    - data:
        sourceType: llm
        targetType: if-else
      id: '1735810000021-1735810000041'
      source: '1735810000021'
      sourceHandle: source
      target: '1735810000041'
      targetHandle: target
      type: custom
    # IF/ELSE -> Clarify Loop
    - data:
        sourceType: if-else
        targetType: llm
      id: '1735810000041-true-1735810000051'
      source: '1735810000041'
      sourceHandle: 'true'
      target: '1735810000051'
      targetHandle: target
      type: custom
    - data:
        sourceType: if-else
        targetType: variable-assigner
      id: '1735810000041-false-1735810000061'
      source: '1735810000041'
      sourceHandle: 'false'
      target: '1735810000061'
      targetHandle: target
      type: custom
    # Clarify & Analyze ãƒ–ãƒ©ãƒ³ãƒ
    - data:
        sourceType: question-classifier
        targetType: llm
      id: '1735810000010-1735810000102-1735810000022'
      source: '1735810000010'
      sourceHandle: '1735810000102'
      target: '1735810000022'
      targetHandle: target
      type: custom
    # Plan/Tasks ãƒ–ãƒ©ãƒ³ãƒ
    - data:
        sourceType: question-classifier
        targetType: llm
      id: '1735810000010-1735810000103-1735810000023'
      source: '1735810000010'
      sourceHandle: '1735810000103'
      target: '1735810000023'
      targetHandle: target
      type: custom
    # Clarify Loop -> Variable Assigner
    - data:
        sourceType: llm
        targetType: variable-assigner
      id: '1735810000051-1735810000061'
      source: '1735810000051'
      sourceHandle: source
      target: '1735810000061'
      targetHandle: target
      type: custom
    # Variable Assigner -> Aggregator
    - data:
        sourceType: variable-assigner
        targetType: variable-aggregator
      id: '1735810000061-1735810000030'
      source: '1735810000061'
      sourceHandle: source
      target: '1735810000030'
      targetHandle: '1735810000061'
      type: custom
    - data:
        sourceType: llm
        targetType: variable-aggregator
      id: '1735810000022-1735810000030'
      source: '1735810000022'
      sourceHandle: source
      target: '1735810000030'
      targetHandle: '1735810000022'
      type: custom
    - data:
        sourceType: llm
        targetType: variable-aggregator
      id: '1735810000023-1735810000030'
      source: '1735810000023'
      sourceHandle: source
      target: '1735810000030'
      targetHandle: '1735810000023'
      type: custom
    # Aggregator -> Answer
    - data:
        sourceType: variable-aggregator
        targetType: answer
      id: '1735810000030-1735810000003'
      source: '1735810000030'
      sourceHandle: source
      target: '1735810000003'
      targetHandle: target
      type: custom
    nodes:
    # Start Node
    - data:
        desc: ''
        selected: false
        title: Start
        type: start
        variables:
        - label: 'ã‚³ãƒãƒ³ãƒ‰'
          max_length: 50
          options:
          - 'constitution'
          - 'specify'
          - 'clarify'
          - 'plan'
          - 'tasks'
          - 'analyze'
          required: true
          type: select
          variable: command
        - label: 'è¦ä»¶ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ'
          max_length: 10000
          options: []
          required: true
          type: paragraph
          variable: prompt
      height: 116
      id: '1735810000001'
      position:
        x: 80
        y: 400
      positionAbsolute:
        x: 80
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Question Classifier
    - data:
        classes:
        - id: '1735810000101'
          name: 'constitution_specify'
        - id: '1735810000102'
          name: 'clarify_analyze'
        - id: '1735810000103'
          name: 'plan_tasks'
        desc: 'ã‚³ãƒãƒ³ãƒ‰ã‚’æ©Ÿèƒ½ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†é¡'
        instructions: |
          ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸æŠã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†é¡ï¼š
          - constitution, specify â†’ "constitution_specify"
          - clarify, analyze â†’ "clarify_analyze"
          - plan, tasks â†’ "plan_tasks"
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: amazon nova
          provider: langgenius/bedrock/bedrock
        query_variable_selector:
        - '1735810000001'
        - command
        selected: false
        title: Command Router
        topics: []
        type: question-classifier
      height: 183
      id: '1735810000010'
      position:
        x: 380
        y: 400
      positionAbsolute:
        x: 380
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Constitution/Specify LLM
    - data:
        context:
          enabled: true
          variable_selector:
          - 'sys'
          - 'conversation_variables'
          - 'constitution'
        desc: 'Constitution & Specifyå‡¦ç†'
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: amazon nova
          provider: langgenius/bedrock/bedrock
        prompt_template:
        - edition_type: basic
          id: 'sys-const-001'
          role: system
          text: |
            ã‚ãªãŸã¯GitHub spec-kitã®constitutionã¨specifyã‚³ãƒãƒ³ãƒ‰ã®å°‚é–€å®¶ã§ã™ã€‚

            ç¾åœ¨ã®ã‚³ãƒãƒ³ãƒ‰: {{#1735810000001.command#}}

            ## Constitutionã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸå‰‡ã¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ä»¥ä¸‹ã®å½¢å¼ã§å®šç¾©ã—ã¦ãã ã•ã„ï¼š
            - é–‹ç™ºåŸå‰‡
            - å“è³ªåŸºæº–
            - æ„æ€æ±ºå®šãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
            - ãƒãƒ¼ãƒ è¦ç´„

            ## Specifyã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            è©³ç´°ãªè¦ä»¶ä»•æ§˜æ›¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
            æ›–æ˜§ãªç®‡æ‰€ã«ã¯å¿…ãš [NEEDS CLARIFICATION: è³ªå•å†…å®¹] ãƒãƒ¼ã‚«ãƒ¼ã‚’æŒ¿å…¥ã—ã¦ãã ã•ã„ã€‚

            ä»•æ§˜æ›¸ã«ã¯ä»¥ä¸‹ã‚’å«ã‚ã¦ãã ã•ã„ï¼š
            - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼
            - æ©Ÿèƒ½è¦ä»¶
            - éæ©Ÿèƒ½è¦ä»¶
            - å—ã‘å…¥ã‚Œæ¡ä»¶
            - åˆ¶ç´„äº‹é …
        - id: 'usr-const-001'
          role: user
          text: '{{#1735810000001.prompt#}}'
        selected: false
        structured_output_enabled: false
        title: Constitution/Specify
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735810000021'
      position:
        x: 680
        y: 200
      positionAbsolute:
        x: 680
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # IF/ELSE - Check for NEEDS CLARIFICATION
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 'cond-clarify-001'
            value: '[NEEDS CLARIFICATION'
            varType: string
            variable_selector:
            - '1735810000021'
            - text
          logical_operator: and
        desc: '[NEEDS CLARIFICATION]ãƒãƒ¼ã‚«ãƒ¼ã®æ¤œå‡º'
        selected: false
        title: Check Clarification
        type: if-else
      height: 126
      id: '1735810000041'
      position:
        x: 980
        y: 200
      positionAbsolute:
        x: 980
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Clarify Loop LLM
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 'æ˜ç¢ºåŒ–è³ªå•ã®ç”Ÿæˆ'
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.5
          mode: chat
          name: amazon nova
          provider: langgenius/bedrock/bedrock
        prompt_template:
        - edition_type: basic
          id: 'sys-clarify-001'
          role: system
          text: |
            ä»•æ§˜æ›¸ã®ä¸­ã‹ã‚‰[NEEDS CLARIFICATION]ãƒãƒ¼ã‚«ãƒ¼ã‚’æ¤œå‡ºã—ã¾ã—ãŸã€‚

            ä»¥ä¸‹ã®ä»•æ§˜æ›¸ã‹ã‚‰æœ€åˆã®[NEEDS CLARIFICATION]ã«ã¤ã„ã¦ã€æ˜ç¢ºåŒ–ã®ãŸã‚ã®è³ªå•ã‚’1ã¤ã ã‘ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š

            ## è³ªå•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
            ### è³ªå• 1/X: [ã‚«ãƒ†ã‚´ãƒª]
            **[å…·ä½“çš„ãªè³ªå•å†…å®¹]**

            é¸æŠè‚¢ï¼š
            1. [é¸æŠè‚¢1]
            2. [é¸æŠè‚¢2]
            3. [é¸æŠè‚¢3]
            4. ãã®ä»–ï¼ˆå…·ä½“çš„ã«è¨˜è¿°ï¼‰

            **æ¨å¥¨**: [ç•ªå·]. [é¸æŠè‚¢]
            **ç†ç”±**: [æ¨å¥¨ç†ç”±ã®èª¬æ˜]

            ---
            ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹ã‹ã€åˆ¥ã®å›ç­”ã‚’ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
        - id: 'usr-clarify-001'
          role: user
          text: |
            ä»•æ§˜æ›¸:
            {{#1735810000021.text#}}

            æœ€åˆã®[NEEDS CLARIFICATION]ã«ã¤ã„ã¦è³ªå•ã‚’1ã¤ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
        selected: false
        structured_output_enabled: false
        title: Clarify Question
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735810000051'
      position:
        x: 1280
        y: 100
      positionAbsolute:
        x: 1280
        y: 100
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Variable Assigner - Save Results
    - data:
        desc: 'çµæœã‚’ä¿å­˜'
        output_type: string
        selected: false
        title: Save Constitution/Spec
        type: variable-assigner
        variables:
        - - '1735810000021'
          - text
        - - '1735810000051'
          - text
      height: 132
      id: '1735810000061'
      position:
        x: 1280
        y: 250
      positionAbsolute:
        x: 1280
        y: 250
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Clarify/Analyze LLM
    - data:
        context:
          enabled: true
          variable_selector:
          - 'sys'
          - 'conversation_variables'
          - 'specification'
        desc: 'Clarify & Analyzeå‡¦ç†'
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.6
          mode: chat
          name: amazon nova
          provider: langgenius/bedrock/bedrock
        prompt_template:
        - edition_type: basic
          id: 'sys-clar-ana-001'
          role: system
          text: |
            ã‚ãªãŸã¯GitHub spec-kitã®clarifyã¨analyzeã‚³ãƒãƒ³ãƒ‰ã®å°‚é–€å®¶ã§ã™ã€‚

            ç¾åœ¨ã®ã‚³ãƒãƒ³ãƒ‰: {{#1735810000001.command#}}

            ## Clarifyã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            è¦ä»¶ã®æ›–æ˜§ãªç‚¹ã«ã¤ã„ã¦ã€1ã¤ãšã¤æ˜ç¢ºåŒ–è³ªå•ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚
            è³ªå•ã¯å¿…ãš1ã¤ã®ã¿ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå›ç­”ã™ã‚‹ã¾ã§æ¬¡ã®è³ªå•ã«é€²ã¾ãªã„ã§ãã ã•ã„ã€‚

            ## Analyzeã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            è¦ä»¶ã‚’ä»¥ä¸‹ã®è¦³ç‚¹ã§åˆ†æã—ã¦ãã ã•ã„ï¼š
            - ä¸€è²«æ€§ã®ãƒã‚§ãƒƒã‚¯
            - ç¶²ç¾…æ€§ã®ç¢ºèª
            - ãƒªã‚¹ã‚¯ã®ç‰¹å®š
            - æ”¹å–„ææ¡ˆ
            - å„ªå…ˆé †ä½ã®æ¨å¥¨
        - id: 'usr-clar-ana-001'
          role: user
          text: '{{#1735810000001.prompt#}}'
        selected: false
        structured_output_enabled: false
        title: Clarify/Analyze
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735810000022'
      position:
        x: 680
        y: 400
      positionAbsolute:
        x: 680
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Plan/Tasks LLM
    - data:
        context:
          enabled: true
          variable_selector:
          - 'sys'
          - 'conversation_variables'
          - 'specification'
        desc: 'Plan & Taskså‡¦ç†'
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params:
            temperature: 0.5
          mode: chat
          name: amazon nova
          provider: langgenius/bedrock/bedrock
        prompt_template:
        - edition_type: basic
          id: 'sys-plan-task-001'
          role: system
          text: |
            ã‚ãªãŸã¯GitHub spec-kitã®planã¨tasksã‚³ãƒãƒ³ãƒ‰ã®å°‚é–€å®¶ã§ã™ã€‚

            ç¾åœ¨ã®ã‚³ãƒãƒ³ãƒ‰: {{#1735810000001.command#}}

            ## Planã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            æŠ€è¡“å®Ÿè£…è¨ˆç”»ã‚’ä»¥ä¸‹ã®å½¢å¼ã§ä½œæˆã—ã¦ãã ã•ã„ï¼š
            - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯é¸å®š
            - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
            - å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º
            - ä¾å­˜é–¢ä¿‚
            - ãƒªã‚¹ã‚¯ã¨å¯¾ç­–
            - ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

            ## Tasksã‚³ãƒãƒ³ãƒ‰ã®å ´åˆï¼š
            å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’ä»¥ä¸‹ã®å½¢å¼ã§åˆ†è§£ã—ã¦ãã ã•ã„ï¼š
            - ã‚¿ã‚¹ã‚¯ID
            - ã‚¿ã‚¹ã‚¯å
            - èª¬æ˜
            - å„ªå…ˆåº¦ï¼ˆHigh/Medium/Lowï¼‰
            - è¦‹ç©ã‚‚ã‚Šæ™‚é–“
            - å‰ææ¡ä»¶
            - å®Œäº†æ¡ä»¶
        - id: 'usr-plan-task-001'
          role: user
          text: '{{#1735810000001.prompt#}}'
        selected: false
        structured_output_enabled: false
        title: Plan/Tasks
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1735810000023'
      position:
        x: 680
        y: 600
      positionAbsolute:
        x: 680
        y: 600
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Variable Aggregator
    - data:
        advanced_settings:
          group_enabled: false
        desc: 'å…¨ãƒ–ãƒ©ãƒ³ãƒã®å‡ºåŠ›ã‚’çµ±åˆ'
        output_type: string
        selected: false
        title: Output Merger
        type: variable-aggregator
        variables:
        - - '1735810000061'
          - output
        - - '1735810000022'
          - text
        - - '1735810000023'
          - text
        advanced_settings:
          group_enabled: false
          groups: []
      height: 150
      id: '1735810000030'
      position:
        x: 1580
        y: 400
      positionAbsolute:
        x: 1580
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    # Answer Node
    - data:
        answer: '{{#1735810000030.output#}}'
        desc: ''
        selected: false
        title: Final Answer
        type: answer
        variables:
        - value_selector:
          - '1735810000030'
          - output
          variable: result
      height: 107
      id: '1735810000003'
      position:
        x: 1880
        y: 400
      positionAbsolute:
        x: 1880
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8
  rag_pipeline_variables: []